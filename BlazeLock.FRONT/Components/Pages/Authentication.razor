@page "/authentication/{action}"
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication

<RemoteAuthenticatorView Action="@Action">
    <LoggingIn>
        <div class="flex flex-col justify-center items-center py-20 min-h-[50vh]">
            <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"></div>
            <p class="mt-4 text-gray-500 animate-pulse font-medium">Redirection vers la connexion...</p>
        </div>
    </LoggingIn>

    <CompletingLoggingIn>
        <div class="flex flex-col justify-center items-center py-20 min-h-[50vh]">
            <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"></div>
            <p class="mt-4 text-gray-500 animate-pulse font-medium">Chargement de vos données...</p>
        </div>
    </CompletingLoggingIn>

    <LogOut>
        <div class="flex flex-col justify-center items-center py-20 min-h-[50vh]">
            <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"></div>
            <p class="mt-4 text-gray-500 animate-pulse font-medium">Déconnexion en cours...</p>
        </div>
    </LogOut>

    <CompletingLogOut>
        <div class="flex flex-col justify-center items-center py-20 min-h-[50vh]">
            <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"></div>
            <p class="mt-4 text-gray-500 animate-pulse font-medium">Déconnexion terminée.</p>
        </div>
    </CompletingLogOut>

    <LogOutSucceeded>
        <div class="flex flex-col justify-center items-center py-20 min-h-[50vh]">
            <div class="bg-green-100 p-4 rounded-full mb-4 text-green-600">
                <i class="bi bi-check-lg text-2xl"></i>
            </div>
            <h2 class="text-xl font-bold text-gray-800 mb-2">Vous êtes déconnecté</h2>
            <p class="text-gray-500 mb-6">Merci d'avoir utilisé BlazeLock.</p>

            <a href="authentication/login" class="px-6 py-2.5 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-colors shadow-lg">
                Se connecter
            </a>
        </div>
    </LogOutSucceeded>
</RemoteAuthenticatorView>

@code {
    [Parameter]
    public string? Action { get; set; }
}